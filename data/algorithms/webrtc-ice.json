{
  "spec": {
    "title": "IceTransport Extensions for WebRTC",
    "url": "https://w3c.github.io/webrtc-ice/"
  },
  "algorithms": [
    {
      "name": "RTCIceTransport/constructor()",
      "href": "https://w3c.github.io/webrtc-ice/#dom-rtcicetransport-constructor",
      "html": "When the constructor is invoked, the user agent <em class=\"rfc2119\">MUST<!---0.458142%--></em> run the following steps:",
      "rationale": "create",
      "steps": [
        {
          "html": "Create an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCIceTransport\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dom-rtcicetransport\" data-type=\"interface\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcicetransport\"><code>RTCIceTransport<!---0.458142%--></code></a><!---0.458142%--> <var>transport</var>."
        },
        {
          "html": "Initialize <var>transport</var>.<!---0.458142%--><a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCIceTransport\" data-xref-for=\"RTCIceTransport\" data-lt=\"[[IceTransportState]]\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dfn-icetransportstate\" data-type=\"attribute\" href=\"https://www.w3.org/TR/webrtc/#dfn-icetransportstate\"><code>[[IceTransportState<!---0.458142%-->]]<!---0.458142%--></code></a><!---0.458142%-->, <!---0.458142%--><a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCIceTransport\" data-xref-for=\"RTCIceTransport\" data-lt=\"[[IceGathererState]]\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dfn-icegathererstate\" data-type=\"attribute\" href=\"https://www.w3.org/TR/webrtc/#dfn-icegathererstate\"><code>[[IceGathererState<!---0.458142%-->]]<!---0.458142%--></code></a><!---0.458142%-->,\n                  <!---0.458142%--><a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCIceTransport\" data-xref-for=\"RTCIceTransport\" data-lt=\"[[SelectedCandidatePair]]\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dfn-selectedcandidatepair\" data-type=\"attribute\" href=\"https://www.w3.org/TR/webrtc/#dfn-selectedcandidatepair\"><code>[[SelectedCandidatePair<!---0.458142%-->]]<!---0.458142%--></code></a><!---0.458142%--> and <!---0.458142%--><a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCIceTransport\" data-xref-for=\"RTCIceTransport\" data-lt=\"[[IceRole]]\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dfn-icerole\" data-type=\"attribute\" href=\"https://www.w3.org/TR/webrtc/#dfn-icerole\"><code>[[IceRole<!---0.458142%-->]]<!---0.458142%--></code></a><!---0.458142%--> internal slots as specified in\n                  [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-ice/#bib-webrtc\" title=\"WebRTC: Real-Time Communication in Browsers\">WEBRTC<!---0.458142%--></a></cite><!---0.458142%-->] Section 5.6."
        },
        {
          "html": "Initialize <var>transport</var>'s local ICE parameters."
        },
        {
          "html": "Return <var>transport</var>."
        }
      ]
    },
    {
      "name": "RTCIceTransport/gather()",
      "href": "https://w3c.github.io/webrtc-ice/#dom-rtcicetransport-gather",
      "html": "To validate the <var>options</var> argument,\n     implementations <em class=\"rfc2119\">MUST<!---0.458142%--></em> run the following steps:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>options</var> be the first argument.</p>"
        },
        {
          "html": "<p>Let <var>servers</var> be the value of <code><var>options</var>.<!---0.458142%--><a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceGatherOptions\" data-xref-for=\"RTCIceGatherOptions\" href=\"https://w3c.github.io/webrtc-ice/#dom-rtcicegatheroptions-iceservers\" class=\"internalDFN\" id=\"ref-for-dom-rtcicegatheroptions-iceservers-3\"><code>iceServers<!---0.458142%--></code></a><!---0.458142%--></code>.</p>"
        },
        {
          "html": "<p>Let <var>validatedServers</var> be an empty list.</p>"
        },
        {
          "html": "Run the following steps for each element in <var>servers</var>:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>server</var> be the current list element.</p>"
            },
            {
              "html": "<p>If <code><var>server</var>.<!---0.458142%--><a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceServer\" data-xref-for=\"RTCIceServer\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dom-rtciceserver-urls\" data-type=\"dict-member\" href=\"https://www.w3.org/TR/webrtc/#dom-rtciceserver-urls\"><code>urls<!---0.458142%--></code></a><!---0.458142%--></code> is a string,\n               let <code><var>server</var>.urls</code> be a list\n               consisting of just that string.</p>"
            },
            {
              "html": "For each <var>url</var> in\n               <code><var>server</var>.urls</code> run the following steps:",
              "rationale": "parse",
              "steps": [
                {
                  "html": "<p>\n                     Parse the <var>url</var> using the generic URI syntax\n                     defined in [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-ice/#bib-rfc3986\" title=\"Uniform Resource Identifier (URI): Generic Syntax\">RFC3986<!---0.458142%--></a></cite><!---0.458142%-->] and obtain the <var>scheme\n                     name</var>. If the parsing based on the syntax\n                     defined in [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-ice/#bib-rfc3986\" title=\"Uniform Resource Identifier (URI): Generic Syntax\">RFC3986<!---0.458142%--></a></cite><!---0.458142%-->] fails, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"/\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw<!---0.458142%--></a>\n                     a <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"SyntaxError\" data-cite=\"webidl\" data-cite-path=\"/\" data-cite-frag=\"syntaxerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#syntaxerror\"><code>SyntaxError<!---0.458142%--></code></a><!---0.458142%-->. If the <var>scheme name</var> is\n                     not implemented by the browser <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"/\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw<!---0.458142%--></a>\n                     a <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"NotSupportedError\" data-cite=\"webidl\" data-cite-path=\"/\" data-cite-frag=\"notsupportederror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#notsupportederror\"><code>NotSupportedError<!---0.458142%--></code></a><!---0.458142%-->. If <var>scheme name</var> is\n                     <code class=\"scheme\">turn</code> or <code class=\"scheme\">turns</code>, and parsing the <var>url</var>\n                     using the syntax defined in [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-ice/#bib-rfc7065\" title=\"Traversal Using Relays around NAT (TURN) Uniform Resource Identifiers\">RFC7065<!---0.458142%--></a></cite><!---0.458142%-->] fails, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"/\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw<!---0.458142%--></a> a <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"SyntaxError\" data-cite=\"webidl\" data-cite-path=\"/\" data-cite-frag=\"syntaxerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#syntaxerror\"><code>SyntaxError<!---0.458142%--></code></a><!---0.458142%-->. If <var>scheme\n                     name</var> is <code class=\"scheme\">stun</code> or\n                     <code class=\"scheme\">stuns</code>, and parsing the\n                     <var>url</var> using the syntax defined in\n                     [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-ice/#bib-rfc7064\" title=\"URI Scheme for the Session Traversal Utilities for NAT (STUN) Protocol\">RFC7064<!---0.458142%--></a></cite><!---0.458142%-->] fails, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"/\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw<!---0.458142%--></a> a\n                     <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"SyntaxError\" data-cite=\"webidl\" data-cite-path=\"/\" data-cite-frag=\"syntaxerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#syntaxerror\"><code>SyntaxError<!---0.458142%--></code></a><!---0.458142%-->.\n                   </p>"
                },
                {
                  "html": "<p>\n                     If <var>scheme name</var> is <code class=\"scheme\">turn</code> or <code class=\"scheme\">turns</code>, and either of\n                     <var>server</var>.<!---0.458142%--><a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceServer\" data-xref-for=\"RTCIceServer\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dom-rtciceserver-username\" data-type=\"dict-member\" href=\"https://www.w3.org/TR/webrtc/#dom-rtciceserver-username\"><code>username<!---0.458142%--></code></a><!---0.458142%--> or\n                     <var>server</var>.<!---0.458142%--><a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceServer\" data-xref-for=\"RTCIceServer\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dom-rtciceserver-credential\" data-type=\"dict-member\" href=\"https://www.w3.org/TR/webrtc/#dom-rtciceserver-credential\"><code>credential<!---0.458142%--></code></a><!---0.458142%--> are\n                     omitted, then <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"/\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw<!---0.458142%--></a> an\n                     <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidAccessError\" data-cite=\"webidl\" data-cite-path=\"/\" data-cite-frag=\"invalidaccesserror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidaccesserror\"><code>InvalidAccessError<!---0.458142%--></code></a><!---0.458142%-->.\n                   </p>"
                },
                {
                  "html": "<p>\n                     If <var>scheme name</var> is <code class=\"scheme\">turn</code> or <code class=\"scheme\">turns</code>, and\n                     <var>server</var>.<!---0.458142%--><a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceServer\" data-xref-for=\"RTCIceServer\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dom-rtciceserver-credential\" data-type=\"dict-member\" href=\"https://www.w3.org/TR/webrtc/#dom-rtciceserver-credential\"><code>credential<!---0.458142%--></code></a><!---0.458142%--> is not\n                     a <span class=\"idlMemberType\">DOMString</span>, then\n                     <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"/\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw<!---0.458142%--></a> an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidAccessError\" data-cite=\"webidl\" data-cite-path=\"/\" data-cite-frag=\"invalidaccesserror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidaccesserror\"><code>InvalidAccessError<!---0.458142%--></code></a><!---0.458142%-->.\n                   </p>"
                }
              ]
            },
            {
              "html": "<p>Append <var>server</var> to <var>validatedServers</var>.</p>"
            }
          ]
        },
        {
          "html": "<p>Let <var>validatedServers</var> be the <dfn id=\"ice-servers-list\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">\n             ICE servers list</dfn>.</p>"
        }
      ]
    },
    {
      "name": "RTCIceTransport/start()",
      "href": "https://w3c.github.io/webrtc-ice/#dom-rtcicetransport-start",
      "html": "As noted in [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-ice/#bib-rfc5245\" title=\"Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols\">RFC5245<!---0.458142%--></a></cite><!---0.458142%-->] Section 7.1.2.3, an incoming connectivity check\n              utilizes the local/remote username fragment and the local password, whereas\n              an outgoing connectivity check utilizes the local/remote username fragment\n              and the remote password. Since <!---0.458142%--><a data-link-type=\"idl\" data-xref-type=\"method\" data-lt=\"start()\" href=\"https://w3c.github.io/webrtc-ice/#dom-rtcicetransport-start\" class=\"internalDFN\" id=\"ref-for-dom-rtcicetransport-start-3\"><code>start<!---0.458142%--></code></a><code>(<!---0.458142%--><!---0.458142%--><!---0.458142%-->)</code><!---0.458142%--><!---0.458142%--> provides role\n              information, as well as the remote username fragment and password, once\n              <!---0.458142%--><a data-link-type=\"idl\" data-xref-type=\"method\" data-lt=\"start()\" href=\"https://w3c.github.io/webrtc-ice/#dom-rtcicetransport-start\" class=\"internalDFN\" id=\"ref-for-dom-rtcicetransport-start-4\"><code>start<!---0.458142%--></code></a><code>(<!---0.458142%--><!---0.458142%--><!---0.458142%-->)</code><!---0.458142%--><!---0.458142%--> is called an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCIceTransport\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dom-rtcicetransport\" data-type=\"interface\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcicetransport\"><code>RTCIceTransport<!---0.458142%--></code></a><!---0.458142%-->\n              object can respond to incoming connectivity checks based on its\n              configured role. Since <!---0.458142%--><a data-link-type=\"idl\" data-xref-type=\"method\" data-lt=\"start()\" href=\"https://w3c.github.io/webrtc-ice/#dom-rtcicetransport-start\" class=\"internalDFN\" id=\"ref-for-dom-rtcicetransport-start-5\"><code>start<!---0.458142%--></code></a><code>(<!---0.458142%--><!---0.458142%--><!---0.458142%-->)</code><!---0.458142%--><!---0.458142%--> enables candidate pairs\n              to be formed, it also enables initiating connectivity checks.\n              When <!---0.458142%--><a data-link-type=\"idl\" data-xref-type=\"method\" data-lt=\"start()\" href=\"https://w3c.github.io/webrtc-ice/#dom-rtcicetransport-start\" class=\"internalDFN\" id=\"ref-for-dom-rtcicetransport-start-6\"><code>start<!---0.458142%--></code></a><code>(<!---0.458142%--><!---0.458142%--><!---0.458142%-->)</code><!---0.458142%--><!---0.458142%--> is called, the following\n              steps <em class=\"rfc2119\">MUST<!---0.458142%--></em> be run:",
      "rationale": "if",
      "steps": [
        {
          "html": "If <!---0.458142%--><a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceTransport\" data-xref-for=\"RTCIceTransport\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dom-icetransport-state\" data-type=\"attribute\" href=\"https://www.w3.org/TR/webrtc/#dom-icetransport-state\"><code>state<!---0.458142%--></code></a><!---0.458142%--> is \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCIceTransportState\" data-xref-for=\"RTCIceTransportState\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dom-rtcicetransportstate-closed\" data-type=\"enum-value\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcicetransportstate-closed\"><code>closed<!---0.458142%--></code></a>\"<!---0.458142%-->, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"/\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw<!---0.458142%--></a> an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidStateError\" data-cite=\"webidl\" data-cite-path=\"/\" data-cite-frag=\"invalidstateerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidstateerror\"><code>InvalidStateError<!---0.458142%--></code></a><!---0.458142%-->."
        },
        {
          "html": "If <code><var>remoteParameters</var>.<!---0.458142%--><a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceParameters\" data-xref-for=\"RTCIceParameters\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dom-rtciceparameters-usernamefragment\" data-type=\"dict-member\" href=\"https://www.w3.org/TR/webrtc/#dom-rtciceparameters-usernamefragment\"><code>usernameFragment<!---0.458142%--></code></a><!---0.458142%--></code>\n                  or <code><var>remoteParameters</var>.<!---0.458142%--><a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceParameters\" data-xref-for=\"RTCIceParameters\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dom-rtciceparameters-password\" data-type=\"dict-member\" href=\"https://www.w3.org/TR/webrtc/#dom-rtciceparameters-password\"><code>password<!---0.458142%--></code></a><!---0.458142%--></code> is unset,\n                  <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"/\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw<!---0.458142%--></a> an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"TypeError\" data-cite=\"webidl\" data-cite-path=\"/\" data-cite-frag=\"exceptiondef-typeerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#exceptiondef-typeerror\"><code>TypeError<!---0.458142%--></code></a><!---0.458142%-->."
        },
        {
          "html": "If <code><var>remoteParameters</var>.<!---0.458142%--><a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceParameters\" data-xref-for=\"RTCIceParameters\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dom-rtciceparameters-usernamefragment\" data-type=\"dict-member\" href=\"https://www.w3.org/TR/webrtc/#dom-rtciceparameters-usernamefragment\"><code>usernameFragment<!---0.458142%--></code></a><!---0.458142%--></code>\n                  or <code><var>remoteParameters</var>.<!---0.458142%--><a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceParameters\" data-xref-for=\"RTCIceParameters\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dom-rtciceparameters-password\" data-type=\"dict-member\" href=\"https://www.w3.org/TR/webrtc/#dom-rtciceparameters-password\"><code>password<!---0.458142%--></code></a><!---0.458142%--></code> does not\n                  conform to the syntax described in [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-ice/#bib-rfc8839\" title=\"Session Description Protocol (SDP) Offer/Answer Procedures for Interactive Connectivity Establishment (ICE)\">RFC8839<!---0.458142%--></a></cite><!---0.458142%-->] Section 5.4,\n                  <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"/\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw<!---0.458142%--></a> a <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"SyntaxError\" data-cite=\"webidl\" data-cite-path=\"/\" data-cite-frag=\"syntaxerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#syntaxerror\"><code>SyntaxError<!---0.458142%--></code></a><!---0.458142%-->."
        },
        {
          "html": "If <!---0.458142%--><a data-link-type=\"idl\" data-xref-type=\"method\" data-lt=\"start()\" href=\"https://w3c.github.io/webrtc-ice/#dom-rtcicetransport-start\" class=\"internalDFN\" id=\"ref-for-dom-rtcicetransport-start-7\"><code>start<!---0.458142%--></code></a><code>(<!---0.458142%--><!---0.458142%--><!---0.458142%-->)</code><!---0.458142%--><!---0.458142%--> is called again and\n                  <!---0.458142%--><a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceTransport\" data-xref-for=\"RTCIceTransport\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dom-icetransport-role\" data-type=\"attribute\" href=\"https://www.w3.org/TR/webrtc/#dom-icetransport-role\"><code>role<!---0.458142%--></code></a><!---0.458142%--> is changed, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"/\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw<!---0.458142%--></a> an\n                  <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidStateError\" data-cite=\"webidl\" data-cite-path=\"/\" data-cite-frag=\"invalidstateerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidstateerror\"><code>InvalidStateError<!---0.458142%--></code></a><!---0.458142%-->."
        },
        {
          "html": "If <!---0.458142%--><a data-link-type=\"idl\" data-xref-type=\"method\" data-lt=\"start()\" href=\"https://w3c.github.io/webrtc-ice/#dom-rtcicetransport-start\" class=\"internalDFN\" id=\"ref-for-dom-rtcicetransport-start-8\"><code>start<!---0.458142%--></code></a><code>(<!---0.458142%--><!---0.458142%--><!---0.458142%-->)</code><!---0.458142%--><!---0.458142%--> is called again with the same\n                  value of <var>remoteParameters</var>, this has\n                  no effect."
        },
        {
          "html": "If <!---0.458142%--><a data-link-type=\"idl\" data-xref-type=\"method\" data-lt=\"start()\" href=\"https://w3c.github.io/webrtc-ice/#dom-rtcicetransport-start\" class=\"internalDFN\" id=\"ref-for-dom-rtcicetransport-start-9\"><code>start<!---0.458142%--></code></a><code>(<!---0.458142%--><!---0.458142%--><!---0.458142%-->)</code><!---0.458142%--><!---0.458142%--> is called for the first time, if\n                  there are remote candidates, set <!---0.458142%--><a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceTransport\" data-xref-for=\"RTCIceTransport\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dom-icetransport-state\" data-type=\"attribute\" href=\"https://www.w3.org/TR/webrtc/#dom-icetransport-state\"><code>state<!---0.458142%--></code></a><!---0.458142%-->\n                  to \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCIceTransportState\" data-xref-for=\"RTCIceTransportState\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dom-rtcicetransportstate-checking\" data-type=\"enum-value\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcicetransportstate-checking\"><code>checking<!---0.458142%--></code></a>\"<!---0.458142%--> and start connectivity checks.\n                  If there are no remote candidates, <!---0.458142%--><a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceTransport\" data-xref-for=\"RTCIceTransport\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dom-icetransport-state\" data-type=\"attribute\" href=\"https://www.w3.org/TR/webrtc/#dom-icetransport-state\"><code>state<!---0.458142%--></code></a><!---0.458142%-->\n                  remains \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCIceTransportState\" data-xref-for=\"RTCIceTransportState\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dom-rtcicetransportstate-new\" data-type=\"enum-value\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcicetransportstate-new\"><code>new<!---0.458142%--></code></a>\"<!---0.458142%-->."
        },
        {
          "html": "If <!---0.458142%--><a data-link-type=\"idl\" data-xref-type=\"method\" data-lt=\"start()\" href=\"https://w3c.github.io/webrtc-ice/#dom-rtcicetransport-start\" class=\"internalDFN\" id=\"ref-for-dom-rtcicetransport-start-10\"><code>start<!---0.458142%--></code></a><code>(<!---0.458142%--><!---0.458142%--><!---0.458142%-->)</code><!---0.458142%--><!---0.458142%--> is called again but the value\n                  of <var>remoteParameters</var> has changed,\n                  local candidates are kept, remote candidates are flushed,\n                  candidate pairs are flushed and <!---0.458142%--><a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceTransport\" data-xref-for=\"RTCIceTransport\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dom-icetransport-state\" data-type=\"attribute\" href=\"https://www.w3.org/TR/webrtc/#dom-icetransport-state\"><code>state<!---0.458142%--></code></a><!---0.458142%-->\n                  transitions to \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCIceTransportState\" data-xref-for=\"RTCIceTransportState\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dom-rtcicetransportstate-new\" data-type=\"enum-value\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcicetransportstate-new\"><code>new<!---0.458142%--></code></a>\"<!---0.458142%-->."
        },
        {
          "html": "If <!---0.458142%--><a data-link-type=\"idl\" data-xref-type=\"method\" data-lt=\"start()\" href=\"https://w3c.github.io/webrtc-ice/#dom-rtcicetransport-start\" class=\"internalDFN\" id=\"ref-for-dom-rtcicetransport-start-11\"><code>start<!---0.458142%--></code></a><code>(<!---0.458142%--><!---0.458142%--><!---0.458142%-->)</code><!---0.458142%--><!---0.458142%--> is called again but the value of\n                  <code><var>remoteParameters</var></code> is unchanged,\n                  local candidates are flushed, candidate pairs are flushed,\n                  new candidate pairs are formed with existing remote candidates,\n                  and <!---0.458142%--><a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceTransport\" data-xref-for=\"RTCIceTransport\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dom-icetransport-state\" data-type=\"attribute\" href=\"https://www.w3.org/TR/webrtc/#dom-icetransport-state\"><code>state<!---0.458142%--></code></a><!---0.458142%--> transitions to \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCIceTransportState\" data-xref-for=\"RTCIceTransportState\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dom-rtcicetransportstate-checking\" data-type=\"enum-value\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcicetransportstate-checking\"><code>checking<!---0.458142%--></code></a>\"<!---0.458142%-->."
        },
        {
          "html": "If <!---0.458142%--><a data-link-type=\"idl\" data-xref-type=\"method\" data-lt=\"start()\" href=\"https://w3c.github.io/webrtc-ice/#dom-rtcicetransport-start\" class=\"internalDFN\" id=\"ref-for-dom-rtcicetransport-start-12\"><code>start<!---0.458142%--></code></a><code>(<!---0.458142%--><!---0.458142%--><!---0.458142%-->)</code><!---0.458142%--><!---0.458142%--> is called again with new values of\n                <var>remoteParameters</var>, local\n                candidates are flushed, remote candidates are flushed,\n                candidate pairs are flushed and <!---0.458142%--><a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceTransport\" data-xref-for=\"RTCIceTransport\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dom-icetransport-state\" data-type=\"attribute\" href=\"https://www.w3.org/TR/webrtc/#dom-icetransport-state\"><code>state<!---0.458142%--></code></a><!---0.458142%--> transitions\n                to \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCIceTransportState\" data-xref-for=\"RTCIceTransportState\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dom-rtcicetransportstate-new\" data-type=\"enum-value\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcicetransportstate-new\"><code>new<!---0.458142%--></code></a>\"<!---0.458142%-->."
        }
      ]
    },
    {
      "name": "RTCIceTransport/stop()",
      "href": "https://w3c.github.io/webrtc-ice/#dom-rtcicetransport-stop",
      "html": "Irreversibly stops the\n              <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCIceTransport\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dom-rtcicetransport\" data-type=\"interface\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcicetransport\"><code>RTCIceTransport<!---0.458142%--></code></a><!---0.458142%-->. When\n              <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"stop\" href=\"https://w3c.github.io/webrtc-ice/#dom-rtcicetransport-stop\" class=\"internalDFN\" id=\"ref-for-dom-rtcicetransport-stop-2\"><code>stop<!---0.458142%--></code></a><!---0.458142%--> is called, the following\n              steps <em class=\"rfc2119\">MUST<!---0.458142%--></em> be run:",
      "rationale": "let",
      "steps": [
        {
          "html": "Let <var>iceTransport</var> be the\n                  <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCIceTransport\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dom-rtcicetransport\" data-type=\"interface\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcicetransport\"><code>RTCIceTransport<!---0.458142%--></code></a><!---0.458142%--> object on\n                  which the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"stop\" href=\"https://w3c.github.io/webrtc-ice/#dom-rtcicetransport-stop\" class=\"internalDFN\" id=\"ref-for-dom-rtcicetransport-stop-3\"><code>stop<!---0.458142%--></code></a><!---0.458142%--> method is invoked."
        },
        {
          "html": "If <code><var>iceTransport</var>.<!---0.458142%--><a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceTransport\" data-xref-for=\"RTCIceTransport\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dom-icetransport-state\" data-type=\"attribute\" href=\"https://www.w3.org/TR/webrtc/#dom-icetransport-state\"><code>state<!---0.458142%--></code></a><!---0.458142%--></code> is\n                  \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCIceTransportState\" data-xref-for=\"RTCIceTransportState\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dom-rtcicetransportstate-closed\" data-type=\"enum-value\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcicetransportstate-closed\"><code>closed<!---0.458142%--></code></a>\"<!---0.458142%-->, abort these steps."
        },
        {
          "html": "Set <code><var>iceTransport</var>.<!---0.458142%--><a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceTransport\" data-xref-for=\"RTCIceTransport\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dom-icetransport-state\" data-type=\"attribute\" href=\"https://www.w3.org/TR/webrtc/#dom-icetransport-state\"><code>state<!---0.458142%--></code></a><!---0.458142%--></code> to\n                  \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCIceTransportState\" data-xref-for=\"RTCIceTransportState\" data-cite=\"webrtc\" data-cite-path=\"/\" data-cite-frag=\"dom-rtcicetransportstate-closed\" data-type=\"enum-value\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcicetransportstate-closed\"><code>closed<!---0.458142%--></code></a>\"<!---0.458142%-->."
        },
        {
          "html": "Fire a simple event <code>statechange</code>\n                  at <var>iceTransport</var>."
        }
      ]
    }
  ]
}